menu "Willow Configuration"

config WIFI_SSID
    string "WiFi SSID"
    depends on !WILLOW_ETHERNET
    default "myssid"
    help
        SSID (network name) for Willow to connect to.

config WIFI_PASSWORD
    string "WiFi Password"
    depends on !WILLOW_ETHERNET
    default "mypassword"
    help
        WiFi password (WPA, WPA2, WPA3) for Willow to use.

        Can be left blank if the network is open.

config WILLOW_WAS_URL
    string "Willow Application Server URL"
    default "wss://was.local"
    help
        URL for your WAS instance. Supports WS and WSS.

choice WILLOW_WAKE_WORD
    # This is a typo in esp-sr
    depends on SR_WN_LOAD_MULIT_WORD
    prompt "Willow Wake Word"
    default WILLOW_WAKE_WORD_HIESP

    config WILLOW_WAKE_WORD_HIESP
        depends on SR_WN_WN9_HIESP_MULTI
        bool "Hi ESP"
        help
            Say Hi ESP to wake Willow

    config WILLOW_WAKE_WORD_ALEXA
        depends on SR_WN_WN9_ALEXA_MULTI
        bool "Alexa"
        help
            Say Alexa to wake Willow

    config WILLOW_WAKE_WORD_HILEXIN
        depends on SR_WN_WN9_HILEXIN_MULTI
        bool "Hi Lexin"
        help
            Say Hi Lexin to wake Willow
endchoice

config WILLOW_TIMEZONE
    string "Timezone"
    default "UTC+5"
    help
        Willow device timezone

config WILLOW_VOLUME
    int "Speaker volume"
    range 0 100
    default 60
    help
        Audio level for playback from 0-100

config WILLOW_LCD_BRIGHTNESS
    int "LCD Brightness"
    range 0 1023
    default 700
    help
        LCD Brightness from 0-1023

    menu "Advanced settings"

        config WILLOW_STREAM_TIMEOUT
            int "Maximum speech duration"
            range 1 30
            default 5
            help
                Stop speech recognition after N seconds after wake event to avoid endless stream when VAD END doesn't trigger.

        choice WILLOW_USE_CODEC
            prompt "Audio codec to use for speech recognition"
            default WILLOW_USE_PCM

            config WILLOW_USE_PCM
                bool "PCM"
                help
                    High bandwidth but very fast

            config WILLOW_USE_AMRWB
                bool "AMR-WB"
                help
                    AMR-WB is a very low bitrate codec

            config WILLOW_USE_WAV
                bool "WAV"
                help
                    Industry standard WAV file
        endchoice

        choice WILLOW_WAKE_MODE
            prompt "Wake Word Recognition Operating Mode"
            default WILLOW_WAKE_DET_MODE_2CH_90

                config WILLOW_WAKE_DET_MODE_90
                    bool "DET_MODE_90"

                config WILLOW_WAKE_DET_MODE_95
                    bool "DET_MODE_95"

                config WILLOW_WAKE_DET_MODE_2CH_90
                    bool "DET_MODE_2CH_90"

                config WILLOW_WAKE_DET_MODE_2CH_95
                    bool "DET_MODE_2CH_95"

                config WILLOW_WAKE_DET_MODE_3CH_90
                    bool "DET_MODE_3CH_90"

                config WILLOW_WAKE_DET_MODE_3CH_95
                    bool "DET_MODE_3CH_95"
        endchoice

        choice WILLOW_WAKE_VAD_MODE
            prompt "Voice Activity Detection Mode"
            default WILLOW_WAKE_VAD_MODE_3

                config WILLOW_WAKE_VAD_MODE_0
                    bool "VAD_MODE_0"

                config WILLOW_WAKE_VAD_MODE_1
                    bool "VAD_MODE_1"

                config WILLOW_WAKE_VAD_MODE_2
                    bool "VAD_MODE_2"

                config WILLOW_WAKE_VAD_MODE_3
                    bool "VAD_MODE_3"

                config WILLOW_WAKE_VAD_MODE_4
                    bool "VAD_MODE_4"
        endchoice

        config WILLOW_ETHERNET
        depends on ETH_SPI_ETHERNET_W5500
        bool "Ethernet support"
        help
            Ethernet support via W5500 over SPI

    endmenu

    menu "Debugging"

    config WILLOW_DEBUG_LOG
        bool "Debug Willow logging"
        help
            Set all log levels to debug

    config WILLOW_DEBUG_MEM
        bool "Debug Willow memory"
        help
            Willow will periodically print memory debugging information when enabled

    config WILLOW_DEBUG_RUNTIME_STATS
        bool "Debug Willow runtime stats"
        select FREERTOS_GENERATE_RUN_TIME_STATS
        help
            Willow will periodically print runtime stats when enabled

    config WILLOW_DEBUG_TASKS
        bool "Debug Willow tasks"
        select FREERTOS_USE_STATS_FORMATTING_FUNCTIONS
        select FREERTOS_USE_TRACE_FACILITY
        help
            Willow will periodically print task list when enabled

    config WILLOW_DEBUG_TIMERS
        bool "Debug Willow timers"
        help
            Willow will periodically print timer information when enabled

    endmenu

endmenu
